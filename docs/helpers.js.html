<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>helpers.js - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-helpers.html">helpers</a><ul class='methods'><li data-type='method'><a href="module-helpers.html#.validatePostcodeP4">validatePostcodeP4</a></li><li data-type='method'><a href="module-helpers.html#.validatePostcodeP6">validatePostcodeP6</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html">getAddresses</a></li><li><a href="global.html">getAddressesByPostcodeAndNumber</a></li><li><a href="global.html">getPostcodes</a></li><li><a href="global.html">getSingleAddress</a></li><li><a href="global.html">getSinglePostcode</a></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">helpers.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * The helpers from this module are globally exported under the namespace helpers for use in your own application
 * @module helpers
 */

/**
  * Returns if a postcode is P6-formatted where spaces are not allowed (e.g. 1234AB)
  * @name validatePostcodeP6
  * @method
  * @static
  * @param {String} postcode - The postcode that must be checked
  * @returns {Boolean}
  * @since 1.0.0
  * @example
  * const postcodeApi = require('postcode-nl');
  * console.log(postcodeApi.helpers.validatePostcodeP6('1234')); // Shows 'false' in the console
  * console.log(postcodeApi.helpers.validatePostcodeP6('1234AB')); // Shows 'true' in the console
  */
exports.validatePostcodeP6 = (postcode) => {
  // Validate P6-formatted postcode:
  // 4 digits where first one is not 0, followed by two letters without space where SA, SD en SS are not allowed
  return /[1-9][0-9]{3}([A-RT-Z][A-Z]|[S][BCE-RT-Z])$/g.test(postcode);
}

/**
  * Returns if a postcode is P4-formatted (e.g. 1234)
  * @name validatePostcodeP4
  * @method
  * @static
  * @param {String} postcode - The postcode that must be checked
  * @returns {Boolean}
  * @since 1.0.0
  * @example
  * const postcodeApi = require('postcode-nl');
  * console.log(postcodeApi.helpers.validatePostcodeP4('1234')); // Shows 'true' in the console
  * console.log(postcodeApi.helpers.validatePostcodeP4('1234AB')); // Shows 'false' in the console
  */
exports.validatePostcodeP4 = (postcode) => {
  // Validate P4-formatted postcode:
  // 4 digits where first one is not 0
  return /[1-9][0-9]{3}$/g.test(postcode);
}

/**
  * Helper to handle responses from the API that are not specifically defined
  * @name handleOtherResponses
  * @method
  * @static
  * @private
  * @param {Object} response - The response object from the request-module
  * @param {Object} body - The body object from the request-module
  * @param {Function} callback - The callback as defined by the end-user
  * @since 1.0.0
  */
exports.handleOtherResponses = (response, body, callback) => {
  // The API will respond with an error-key in the body in some cases, so we pass it to the end user
  if (body.error) {
    return callback(new Error(body.error), null);
  } else {
    // If there is no error in the body, the error is unknown, so we inform the end user about that
    return callback(new Error('An unknown error has occuring while calling the external API. HTTP status code: ' +
    response.statusCode), null);
  }
};
</code></pre>
        </article>
    </section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Thu Aug 11 2016 18:31:19 GMT+0200 (West-Europa (zomertijd)) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>
